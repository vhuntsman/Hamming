// (c) EchidnaLabs

using System;
using System.Globalization;
using Hamming;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace UnitTest {
    /// <summary>
    ///     Tests the checksum generation as well as the verification of data.
    /// </summary>
    [TestClass]
    public class HammingTest {
        /// <summary>
        ///     Tests the Ecc generator for the expected checksum.
        ///     Test up to 2048 byte data block, this mimics a real-world
        ///     SLC Nand flash page, for example.
        /// </summary>
        /// <param name="data">Data in hexadecimal string, MSB first (big endian).</param>
        /// <param name="expectedEcc">Expected ECC checksum in hexadecimal string (4 byte size). MSB first (big endian).</param>
        [DataRow("AA", "00000004")]
        [DataRow("55", "00000007")]
        [DataRow("AA55", "0000001E")]
        [DataRow("55AA55", "00000016")]
        [DataRow("9955AA55", "0000002F")]
        [DataRow("0058005C006100001307073637032733323737230607273637233733373336371707330306070627333723132736373637370607273637363717071617161707270723060733072337230723370613332627371707332627060733372337372307073337232737070736A5042304013802220E03284D1F3F1E391E23092326310C0B2619425B0618110E4D1D4D441E2917190F1110101736222929280B10161729231224A10507AA242B076007281E1F4F4702082310103C261229467608747B0973091E600D60C622042405012C4F062628FEA52F0E9F7D60175076229A1D1D0535FE92170906FA77FEAC18292D313D410D0C1E201E25370F0E28181919230D8E0D0E931D1C7631010716170E3506223D30AF221C2424CD3459075A072D000FFFD8FFBF022001A30009001D002100250029002D003100350039004100450049005300740078000037371615140707363534253733073337330733072307330721373337233717372307073337230733372337333723373337230733372307333723073307233723072337333723073337230314151407073635343503363F02233733373336373637170607330306070607273332373723070706071333372358250105250501000A230A250B250B5A0959084A2AFF002A49075409C609260910250A265426092507250925082508265F24092419230A242EDF2E29068D0729488D088D188D088D4C062406A83C1802031D081E262A0502070A270D0C4358090E113102240F05264704021A4169481E4893080901331E06211F08F829292929221EA6A61E22842424422525251D24201E622466255EB8161A7C1F5F2001170A05192A032816060AFEB95460050D239B0C060F1A061F16FE9E20090B0530139A0F066C5C01007800000CFFE1FFCA021401A0002F00330037003B004000440048004C0051006B006F00740000252627363723373337233733372337233733373337330717073307230723073307230733072306071707262706072736373723073733372337333723031736372337333723373337233737230F0336370336372337333733363717073303060706072733323737230607373337230737070736011F2021100C410851184B1664065C0F2307230F5B092209590F2508240E590666167719A208341A1E4A1C29263F550A4060084008223A073A073A083A30351815534B420842143807383F083808F005220402A4381D210921262F0C0A24173E590717112101210D052549203D654A1D492021052305030D0B12111F1D5A173A1C3D2222013C1C3A175A1D1F1B171E21171019112206A52222701E1C1FFECC15121559224E1E1C1F1F144F062628FEBB5076229A1D1D0535FE9B1D0906042F14967F5EFF77AE075A072D000008FFDDFFC1021101A10037003B0052005A005F0079007D0082000001373307333733073307230706151433333637343717060706232326353437372307233723060706072736373637233733373307333733071723073307230723373337330733070607060727333637372307230321072337230723270707363703363723373337333637170733030607060727333637372306071333372307370707360195101E10180F1F0F270827090107020B04061B110C0A0D1019020D18135E12190807092418210A05062009200F1E0E17101E0F1A230B23483A1E22265C0A230A5F1F08151217031F0A02123D2922300112112409CD09212D05220402A5391D220921272F0B0B25183D590915112201210E0425481F3D65481E482121052205016140403B3B21250403060107010D0E1D070603120505354A4A1D0C122A1022150A14213A3A3F3F212DAC789928287C150706032B01094BA60116442321964F062628FEBB5273239A1D1D0535FE9B1E08060530040F967D60010077AE075A072D000AFFE0FFC6020D019D00130017001B001F0023003100360050005400590000013337233733072307330723372307233723072337373307333733070737330737373307073307233723373337233733372327070736370336372337333733363717073303060706072733363737230607133337230737070736010075085D09DF09610877192210551C211D551021330738073A073907BE07400737073E07D7E6302606C608C709B908B908C13504230302A53A1D23092326310C0B26183B590817122301220F0326471F3F67471D462222042405013E20242420654172723F081D1D1D1D371C1C021C1C24C41723242023C64F062628FEBB5076229A1D1D0535FE9B1E08060530040F977E60010077AE075A072D00000AFFE1FFC4021501A10010001F002F004B00500055005A00740078007D0000173637363707072736373733070607060713072317072627060727363717060737170607330723170726272306072736073307371707262707061514333332373637170607062323223534372717072627173637170725070736370336372337333733363717073303060706072733323737230607373337230737070736A1311219122724072B341E211F131E1939D3082E0424010413181D342A211112792310105408340D25050905111321281422241B3E201B1F180110130E06030B210E0A101F2125012D0C250407A51F1A1F3EFEFE04230302A43A1D23092326310C0B26183B590817122301220E0426471F3F67461E4623230524052724141D2E1110230F177A784C2A2329019C2031091E1E1B1E1140470F1A183E0B1A191E340E21211B1D0A354B9119341D1D176103030B0D061913210B111C0504F04E0E28284125291150A34F062628FEBB5075239A1D1D0535FE9B1D0906042F14957D5FFF77", "00005D36")]
        [DataTestMethod]
        public void TestGenerateChecksum(string data, string expectedEcc) {
            var result = HamEcc.GenerateChecksum(HamEcc.StringToByteArray(data));
            Assert.AreEqual(expectedEcc, result.ToString("X8", CultureInfo.InvariantCulture));
        }

        /// <summary>
        ///     Tests the ECC verification and correction functionality of the algorithm.
        /// </summary>
        /// <param name="codeword">The data + checksum codeword.</param>
        /// <param name="expectedDataErrPos">Expected data error position, returns -1 if there are no errors.</param>
        /// <param name="expectedEccErrPos">Expected checksum error position, returns -1 if there are no errors.</param>
        [DataRow("AA00000004", -1, -1)]
        [DataRow("8A00000004", 5, -1)]
        [DataRow("AA00000000", -1, 2)]
        [DataRow("8A550000001E", 13, -1)]
        [DataRow("99D5AA550000002F", 23, -1)]
        [DataRow("0058005C006100001307073637032733323737230607273637233733373336371707330306070627333723132736373637370607273637363717071617161707270723060733072337230723370613332627371707332627060733372337372307073337232737070736A5042304013802220E03284D1F3F1E391E23092326310C0B2619425B0618110E4D1D4D441E2917190F1110101736222929280B10161729231224A10507AA242B076007281E1F4F4702082310103C261229467608747B0973091E600D60C622042405012C4F062628FEA52F0E9F7D60175076229A1D1D0535FE92170906FA77FEAC18292D313D410D0C1E201E25370F0E28181919230D8E0D0E931D1C7631010716170E3506223D30AF221C2424CD3459075A072D000FFFD8FFBF022001A30009001D002100250029002D003100350039004100450049005300740078000037371615140707363534253733073337330733072307330721373337233717372307073337230733372337333723373337230733372307333723073307233723072337333723073337230314151407073635343503363F02233733373336373637170607330306070607273332373723070706071333372358250105250501000A230A250B250B5A0959084A2AFF002A49075409C609260910250A265426092507250925082508265F24092419230A242EDF2E29068D0729488D088D188D088D4C062406A83C1802031D081E262A0502070A270D0C4358090E113102240F05264704021A4169481E4893080901331E06211F08F829292929221EA6A61E22842424422525251D24201E622466255EB8161A7C1F5F2001170A05192A032816060AFEB95460050D239B0C060F1A061F16FE9E20090B0530139A0F066C5C01007800000CFFE1FFCA021401A0002F00330037003B004000440048004C0051006B006F00740000252627363723373337233733372337233733373337330717073307230723073307230733072306071707262706072736373723073733372337333723031736372337333723373337233737230F0336370336372337333733363717073303060706072733323737230607373337230737070736011F2021100C410851184B1664065C0F2307230F5B092209590F2508240E590666167719A208341A1E4A1C29263F550A4060084008223A073A073A083A30351815534B420842143807383F083808F005220402A4381D210921262F0C0A24173E590717112101210D052549203D654A1D492021052305030D0B12111F1D5A173A1C3D2222013C1C3A175A1D1F1B171E21171019112206A52222701E1C1FFECC15121559224E1E1C1F1F144F062628FEBB5076229A1D1D0535FE9B1D0906042F14967F5EFF77AE075A072D000008FFDDFFC1021101A10037003B0052005A005F0079007D0082000001373307333733073307230706151433333637343717060706232326353437372307233723060706072736373637233733373307333733071723073307230723373337330733070607060727333637372307230321072337230723270707363703363723373337333637170733030607060727333637372306071333372307370707360195101E10180F1F0F270827090107020B04061B110C0A0D1019020D18135E12190807092418210A05062009200F1E0E17101E0F1A230B23483A1E22265C0A230A5F1F08151217031F0A02123D2922300112112409CD09212D05220402A5391D220921272F0B0B25183D590915112201210E0425481F3D65481E482121052205016140403B3B21250403060107010D0E1D070603120505354A4A1D0C122A1022150A14213A3A3F3F212DAC789928287C150706032B01094BA60116442321964F062628FEBB5273239A1D1D0535FE9B1E08060530040F967D60010077AE075A072D000AFFE0FFC6020D019D00130017001B001F0023003100360050005400590000013337233733072307330723372307233723072337373307333733070737330737373307073307233723373337233733372327070736370336372337333733363717073303060706072733363737230607133337230737070736010075085D09DF09610877192210551C211D551021330738073A073907BE07400737073E07D7E6302606C608C709B908B908C13504230302A53A1D23092326310C0B26183B590817122301220F0326471F3F67471D462222042405013E20242420654172723F081D1D1D1D371C1C021C1C24C41723242023C64F062628FEBB5076229A1D1D0535FE9B1E08060530040F977E60010077AE075A072D00000AFFE1FFC4021501A10010001F002F004B00500055005A00740078007D0000173637363707072736373733070607060713072317072627060727363717060737170607330723170726272306072736073307371707262707061514333332373637170607062323223534372717072627173637170725070736370336372337333733363717073303060706072733323737230607373337230737070736A1311219122724072B341E211F131E1939D3082E0424010413181D342A211112792310105408340D25050905111321281422241B3E201B1F180110130E06030B210E0A101F2125012D0C250407A51F1A1F3EFEFE04230302A43A1D23092326310C0B26183B590817122301220E0426471F3F67461E4623230524052724141D2E1110230F177A784C2A2329019C2031091E1E1B1E1140470F1A183E0B1A191E340E21211B1D0A354B9119341D1D176103030B0D061913210B111C0504F04E0E28284125291150A34F062628FEBB5075239A1D1D0535FE9B1D0906042F14957D5FFF7600005D36", 0, -1)]
        [DataRow("0058005C006100001307073637032733323737230607273637233733373336371707330306070627333723132736373637370607273637363717071617161707270723060733072337230723370613332627371707332627060733372337372307073337232737070736A5042304013802220E03284D1F3F1E391E23092326310C0B2619425B0618110E4D1D4D441E2917190F1110101736222929280B10161729231224A10507AA242B076007281E1F4F4702082310103C261229467608747B0973091E600D60C622042405012C4F062628FEA52F0E9F7D60175076229A1D1D0535FE92170906FA77FEAC18292D313D410D0C1E201E25370F0E28181919230D8E0D0E931D1C7631010716170E3506223D30AF221C2424CD3459075A072D000FFFD8FFBF022001A30009001D002100250029002D003100350039004100450049005300740078000037371615140707363534253733073337330733072307330721373337233717372307073337230733372337333723373337230733372307333723073307233723072337333723073337230314151407073635343503363F02233733373336373637170607330306070607273332373723070706071333372358250105250501000A230A250B250B5A0959084A2AFF002A49075409C609260910250A265426092507250925082508265F24092419230A242EDF2E29068D0729488D088D188D088D4C062406A83C1802031D081E262A0502070A270D0C4358090E113102240F05264704021A4169481E4893080901331E06211F08F829292929221EA6A61E22842424422525251D24201E622466255EB8161A7C1F5F2001170A05192A032816060AFEB95460050D239B0C060F1A061F16FE9E20090B0530139A0F066C5C01007800000CFFE1FFCA021401A0002F00330037003B004000440048004C0051006B006F00740000252627363723373337233733372337233733373337330717073307230723073307230733072306071707262706072736373723073733372337333723031736372337333723373337233737230F0336370336372337333733363717073303060706072733323737230607373337230737070736011F2021100C410851184B1664065C0F2307230F5B092209590F2508240E590666167719A208341A1E4A1C29263F550A4060084008223A073A073A083A30351815534B420842143807383F083808F005220402A4381D210921262F0C0A24173E590717112101210D052549203D654A1D492021052305030D0B12111F1D5A173A1C3D2222013C1C3A175A1D1F1B171E21171019112206A52222701E1C1FFECC15121559224E1E1C1F1F144F062628FEBB5076229A1D1D0535FE9B1D0906042F14967F5EFF77AE075A072D000008FFDDFFC1021101A10037003B0052005A005F0079007D0082000001373307333733073307230706151433333637343717060706232326353437372307233723060706072736373637233733373307333733071723073307230723373337330733070607060727333637372307230321072337230723270707363703363723373337333637170733030607060727333637372306071333372307370707360195101E10180F1F0F270827090107020B04061B110C0A0D1019020D18135E12190807092418210A05062009200F1E0E17101E0F1A230B23483A1E22265C0A230A5F1F08151217031F0A02123D2922300112112409CD09212D05220402A5391D220921272F0B0B25183D590915112201210E0425481F3D65481E482121052205016140403B3B21250403060107010D0E1D070603120505354A4A1D0C122A1022150A14213A3A3F3F212DAC789928287C150706032B01094BA60116442321964F062628FEBB5273239A1D1D0535FE9B1E08060530040F967D60010077AE075A072D000AFFE0FFC6020D019D00130017001B001F0023003100360050005400590000013337233733072307330723372307233723072337373307333733070737330737373307073307233723373337233733372327070736370336372337333733363717073303060706072733363737230607133337230737070736010075085D09DF09610877192210551C211D551021330738073A073907BE07400737073E07D7E6302606C608C709B908B908C13504230302A53A1D23092326310C0B26183B590817122301220F0326471F3F67471D462222042405013E20242420654172723F081D1D1D1D371C1C021C1C24C41723242023C64F062628FEBB5076229A1D1D0535FE9B1E08060530040F977E60010077AE075A072D00000AFFE1FFC4021501A10010001F002F004B00500055005A00740078007D0000173637363707072736373733070607060713072317072627060727363717060737170607330723170726272306072736073307371707262707061514333332373637170607062323223534372717072627173637170725070736370336372337333733363717073303060706072733323737230607373337230737070736A1311219122724072B341E211F131E1939D3082E0424010413181D342A211112792310105408340D25050905111321281422241B3E201B1F180110130E06030B210E0A101F2125012D0C250407A51F1A1F3EFEFE04230302A43A1D23092326310C0B26183B590817122301220E0426471F3F67461E4623230524052724141D2E1110230F177A784C2A2329019C2031091E1E1B1E1140470F1A183E0B1A191E340E21211B1D0A354B9119341D1D176103030B0D061913210B111C0504F04E0E28284125291150A34F062628FEBB5075239A1D1D0535FE9B1D0906042F14957D5FFF7700005D36", -1, -1)]
        [DataRow("0158005C006100001307073637032733323737230607273637233733373336371707330306070627333723132736373637370607273637363717071617161707270723060733072337230723370613332627371707332627060733372337372307073337232737070736A5042304013802220E03284D1F3F1E391E23092326310C0B2619425B0618110E4D1D4D441E2917190F1110101736222929280B10161729231224A10507AA242B076007281E1F4F4702082310103C261229467608747B0973091E600D60C622042405012C4F062628FEA52F0E9F7D60175076229A1D1D0535FE92170906FA77FEAC18292D313D410D0C1E201E25370F0E28181919230D8E0D0E931D1C7631010716170E3506223D30AF221C2424CD3459075A072D000FFFD8FFBF022001A30009001D002100250029002D003100350039004100450049005300740078000037371615140707363534253733073337330733072307330721373337233717372307073337230733372337333723373337230733372307333723073307233723072337333723073337230314151407073635343503363F02233733373336373637170607330306070607273332373723070706071333372358250105250501000A230A250B250B5A0959084A2AFF002A49075409C609260910250A265426092507250925082508265F24092419230A242EDF2E29068D0729488D088D188D088D4C062406A83C1802031D081E262A0502070A270D0C4358090E113102240F05264704021A4169481E4893080901331E06211F08F829292929221EA6A61E22842424422525251D24201E622466255EB8161A7C1F5F2001170A05192A032816060AFEB95460050D239B0C060F1A061F16FE9E20090B0530139A0F066C5C01007800000CFFE1FFCA021401A0002F00330037003B004000440048004C0051006B006F00740000252627363723373337233733372337233733373337330717073307230723073307230733072306071707262706072736373723073733372337333723031736372337333723373337233737230F0336370336372337333733363717073303060706072733323737230607373337230737070736011F2021100C410851184B1664065C0F2307230F5B092209590F2508240E590666167719A208341A1E4A1C29263F550A4060084008223A073A073A083A30351815534B420842143807383F083808F005220402A4381D210921262F0C0A24173E590717112101210D052549203D654A1D492021052305030D0B12111F1D5A173A1C3D2222013C1C3A175A1D1F1B171E21171019112206A52222701E1C1FFECC15121559224E1E1C1F1F144F062628FEBB5076229A1D1D0535FE9B1D0906042F14967F5EFF77AE075A072D000008FFDDFFC1021101A10037003B0052005A005F0079007D0082000001373307333733073307230706151433333637343717060706232326353437372307233723060706072736373637233733373307333733071723073307230723373337330733070607060727333637372307230321072337230723270707363703363723373337333637170733030607060727333637372306071333372307370707360195101E10180F1F0F270827090107020B04061B110C0A0D1019020D18135E12190807092418210A05062009200F1E0E17101E0F1A230B23483A1E22265C0A230A5F1F08151217031F0A02123D2922300112112409CD09212D05220402A5391D220921272F0B0B25183D590915112201210E0425481F3D65481E482121052205016140403B3B21250403060107010D0E1D070603120505354A4A1D0C122A1022150A14213A3A3F3F212DAC789928287C150706032B01094BA60116442321964F062628FEBB5273239A1D1D0535FE9B1E08060530040F967D60010077AE075A072D000AFFE0FFC6020D019D00130017001B001F0023003100360050005400590000013337233733072307330723372307233723072337373307333733070737330737373307073307233723373337233733372327070736370336372337333733363717073303060706072733363737230607133337230737070736010075085D09DF09610877192210551C211D551021330738073A073907BE07400737073E07D7E6302606C608C709B908B908C13504230302A53A1D23092326310C0B26183B590817122301220F0326471F3F67471D462222042405013E20242420654172723F081D1D1D1D371C1C021C1C24C41723242023C64F062628FEBB5076229A1D1D0535FE9B1E08060530040F977E60010077AE075A072D00000AFFE1FFC4021501A10010001F002F004B00500055005A00740078007D0000173637363707072736373733070607060713072317072627060727363717060737170607330723170726272306072736073307371707262707061514333332373637170607062323223534372717072627173637170725070736370336372337333733363717073303060706072733323737230607373337230737070736A1311219122724072B341E211F131E1939D3082E0424010413181D342A211112792310105408340D25050905111321281422241B3E201B1F180110130E06030B210E0A101F2125012D0C250407A51F1A1F3EFEFE04230302A43A1D23092326310C0B26183B590817122301220E0426471F3F67461E4623230524052724141D2E1110230F177A784C2A2329019C2031091E1E1B1E1140470F1A183E0B1A191E340E21211B1D0A354B9119341D1D176103030B0D061913210B111C0504F04E0E28284125291150A34F062628FEBB5075239A1D1D0535FE9B1D0906042F14957D5FFF7700005D36", 16376, -1)]
        [DataRow("0058005C006100001307073637032733323737230607273637233733373336371707330306070627333723132736373637370607273637363717071617161707270723060733072337230723370613332627371707332627060733372337372307073337232737070736A5042304013802220E03284D1F3F1E391E23092326310C0B2619425B0618110E4D1D4D441E2917190F1110101736222929280B10161729231224A10507AA242B076007281E1F4F4702082310103C261229467608747B0973091E600D60C622042405012C4F062628FEA52F0E9F7D60175076229A1D1D0535FE92170906FA77FEAC18292D313D410D0C1E201E25370F0E28181919230D8E0D0E931D1C7631010716170E3506223D30AF221C2424CD3459075A072D000FFFD8FFBF022001A30009001D002100250029002D003100350039004100450049005300740078000037371615140707363534253733073337330733072307330721373337233717372307073337230733372337333723373337230733372307333723073307233723072337333723073337230314151407073635343503363F02233733373336373637170607330306070607273332373723070706071333372358250105250501000A230A250B250B5A0959084A2AFF002A49075409C609260910250A265426092507250925082508265F24092419230A242EDF2E29068D0729488D088D188D088D4C062406A83C1802031D081E262A0502070A270D0C4358090E113102240F05264704021A4169481E4893080901331E06211F08F829292929221EA6A61E22842424422525251D24201E622466255EB8161A7C1F5F2001170A05192A032816060AFEB95460050D239B0C060F1A061F16FE9E20090B0530139A0F066C5C01007800000CFFE1FFCA021401A0002F00330037003B004000440048004C0051006B006F00740000252627363723373337233733372337233733373337330717073307230723073307230733072306071707262706072736373723073733372337333723031736372337333723373337233737230F0336370336372337333733363717073303060706072733323737230607373337230737070736011F2021100C410851184B1664065C0F2307230F5B092209590F2508240E590666167719A208341A1E4A1C29263F550A4060084008223A073A073A083A30351815534B420842143807383F083808F005220402A4381D210921262F0C0A24173E590717112101210D052549203D654A1D492021052305030D0B12111F1D5A173A1C3D2222013C1C3A175A1D1F1B171E21171019112206A52222701E1C1FFECC15121559224E1E1C1F1F144F062628FEBB5076229A1D1D0535FE9B1D0906042F14967F5EFF77AE075A072D000008FFDDFFC1021101A10037003B0052005A005F0079007D0082000001373307333733073307230706151433333637343717060706232326353437372307233723060706072736373637233733373307333733071723073307230723373337330733070607060727333637372307230321072337230723270707363703363723373337333637170733030607060727333637372306071333372307370707360195101E10180F1F0F270827090107020B04061B110C0A0D1019020D18135E12190807092418210A05062009200F1E0E17101E0F1A230B23483A1E22265C0A230A5F1F08151217031F0A02123D2922300112112409CD09212D05220402A5391D220921272F0B0B25183D590915112201210E0425481F3D65481E482121052205016140403B3B21250403060107010D0E1D070603120505354A4A1D0C122A1022150A14213A3A3F3F212DAC789928287C150706032B01094BA60116442321964F062628FEBB5273239A1D1D0535FE9B1E08060530040F967D60010077AE075A072D000AFFE0FFC6020D019D00130017001B001F0023003100360050005400590000013337233733072307330723372307233723072337373307333733070737330737373307073307233723373337233733372327070736370336372337333733363717073303060706072733363737230607133337230737070736010075085D09DF09610877192210551C211D551021330738073A073907BE07400737073E07D7E6302606C608C709B908B908C13504230302A53A1D23092326310C0B26183B590817122301220F0326471F3F67471D462222042405013E20242420654172723F081D1D1D1D371C1C021C1C24C41723242023C64F062628FEBB5176229A1D1D0535FE9B1E08060530040F977E60010077AE075A072D00000AFFE1FFC4021501A10010001F002F004B00500055005A00740078007D0000173637363707072736373733070607060713072317072627060727363717060737170607330723170726272306072736073307371707262707061514333332373637170607062323223534372717072627173637170725070736370336372337333733363717073303060706072733323737230607373337230737070736A1311219122724072B341E211F131E1939D3082E0424010413181D342A211112792310105408340D25050905111321281422241B3E201B1F180110130E06030B210E0A101F2125012D0C250407A51F1A1F3EFEFE04230302A43A1D23092326310C0B26183B590817122301220E0426471F3F67461E4623230524052724141D2E1110230F177A784C2A2329019C2031091E1E1B1E1140470F1A183E0B1A191E340E21211B1D0A354B9119341D1D176103030B0D061913210B111C0504F04E0E28284125291150A34F062628FEBB5075239A1D1D0535FE9B1D0906042F14957D5FFF7700005D36", 3296, -1)]
        [DataTestMethod]
        public void TestVerifyEcc(string codeword, int expectedDataErrPos, int expectedEccErrPos) {
            if (codeword == null) {
                throw new ArgumentNullException(nameof(codeword));
            }

            var checksum = int.Parse(codeword.Substring(codeword.Length - 8, 8), System.Globalization.NumberStyles.HexNumber, CultureInfo.InvariantCulture);
            var data = HamEcc.StringToByteArray(codeword.Substring(0, codeword.Length - 8));
            var result = HamEcc.Verify(data, checksum);
            Assert.AreEqual((expectedDataErrPos, expectedEccErrPos), result);
        }

        // TODO: Add test for data correction
    }
}
